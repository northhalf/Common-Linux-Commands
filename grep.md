# `grep`打印符合匹配要求的行

[//]: # (UTF-8)

语法:

```shell
grep [OPTION...] PATTERNS [FILE...]
grep [OPTION...] -e PATTERNS ... [FILE...]
grep [OPTION...] -f PATTERN_FILE ... [FILE...]
```

> 如果文件为`-`，那么表示标准输入

## 1. 匹配模式语法

| 选项                        | 功能            |
|---------------------------|---------------|
| `-G`, `--basic-regexp`    | 基本正则表达式(默认选项) |
| `-F`, `--fixed-strings`   | 非正则表达式        |
| `-E`, `--extended-regexp` | 扩展正则表达式       |
| `-P`, `--perl-regexp`     | Perl正则表达式     |

## 2. 匹配控制

| 选项                                               | 功能                                                  |
|--------------------------------------------------|-----------------------------------------------------|
| `-e` <u>PATTERNS</u>, `--regexp`=<u>PATTERNS</u> | 表明后面为匹配模式，如果使用多次的话会搜索所有的匹配模式。**避免以`-`开头的匹配模式被错误解读** | 
| `-f` <u>FILE</u>, `--file`=<u>FILE</u>           | 从文件中获取匹配模式，每行表意是个匹配模式                               |
| `-i`, `--ignore-case`                            | 忽略大小写                                               |
| `-v`, `--invert-match`                           | 选择没有匹配的行                                            |

## 3. 输出控制

| 选项                              | 功能             |
|---------------------------------|----------------|
| `-l`, `--files-with-matches`    | 显示匹配到文件内容的文件名  | 
| `-L`, `--files-without-matches` | 显示没匹配到文件内容的文件名 | 
| `-c`, `--count`                 | 显示匹配到的行数       |

## 4. 输出行前缀控制

| 选项                    | 功能            |
|-----------------------|---------------|
| `-n`, `--line-number` | 显示匹配到的内容所处的行数 | 

## 5. 上下行打印控制

| 选项                                                  | 功能                        |
|-----------------------------------------------------|---------------------------|
| `-A` <u>NUM</u>, `--after-context`=<u>NUM</u>       | 打印<u>NUM</u>行在匹配的行之后的行    |
| `-B` <u>NUM</u>, `--before-context`=<u>NUM</u>      | 打印<u>NUM</u>行在匹配的行之前的行    |
| `-C` <u>NUM</u>, -<u>NUM</u>, --context`=<u>NUM</u> | 打印<u>NUM</u>行在匹配的行之前和之后的行 |

## 6. 文件和目录选择

| 选项                           | 功能                                                |
|------------------------------|---------------------------------------------------|
| `-r`, `--recursive`          | 读取目录下所有文件，默认为当前工作路径                               |
| `--exclude=` <u>GLOB</u>     | 忽略后缀与<u>GLOB</u>匹配模式相匹配的文件(可以是单个文件名，也可以是包含'/'的路径) |
| `--exclude-dir=` <u>GLOB</u> | 忽略后缀与<u>GLOB</u>匹配模式相匹配的目录                        |
| `--include=` <u>GLOB</u>     | 只搜索后缀与<u>GLOB</u>匹配模式相匹配的文件                       |

## 7. 其他选项

| 选项                | 功能                  |
|-------------------|---------------------|
| `--line-buffered` | 使用行缓冲输出(每匹配一行就输出一行) |
