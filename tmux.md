# `tmux`终端复用程序

[//]: # (UTF-8)

[TOC]

## 1. 创建会话

使用`new-session`(或`new`)命令可以创建一个新会话，同时后面加`-s`选项可指定会话的名字。

像是：

```shell
tmux new -s new-session
```

这就创建了一个名为`new-session`的会话。

## 2. 连接会话

使用`attach-session`(或`attach`或`a`)命令可以连接会话，默认连接最近连接的会话。可以加上`-t`选项指定目标会话。

像是：

```shell
tmux a -t new-session
```

这就连接了名为`new-session`的会话。

## 3. 清除会话

使用`kill-session`命令可以关闭会话，默认关闭最近连接的会话，可以使用`-t`参数指定要关闭的会话。会话内的全部窗口会被一起关闭。

像是：

```shell
tmux kill-session -t new-session
```

这就关闭了`new-session`这个会话。

如果想要关闭所有的会话的话，使用`kill-server`命令。这会关闭所有的`tmux`服务端和客户端，并关闭所有的会话。

## 4. 查看会话列表

使用`list-sessions`(或`ls`)命令可列出所有的会话。

## 5. 断开当前会话

使用`detach-client`(或`detach`)命令可以断开与当前会话的连接。或使用`C-b+d`断开会话。

## 6. 会话内操作，`C-b`

`C-b`(`Ctrl+b`)键，为快捷操作前缀。之后的命令有：

### (1) 在会话内创建新窗口(大窗口)

|按键|作用|
|---|---|
|`c`|在当前会话内创建一个新窗口|

### (2) 一个窗口内创建子窗口

|按键|作用|
|---|---|
|`"`|将当前子窗口分裂为上下两个|
|`%`|将当前子窗口分裂为左右两个|

### (3) 断开连接

|按键|作用|
|---|---|
|`d`|断开与当前会话的连接|

### (4) 删除窗口

|按键|作用|
|---|---|
|`&`|删除当前窗口(大窗口)|
|`x`|删除当前子窗口|

### (5) 重命名

|按键|作用|
|---|---|
|`$`|重命名当前**会话**|
|`,`|重命名当前**窗口**|

### (6) 跳转

|按键|作用|
|---|---|
|`方向键`|跳转到对应移动方向的子窗口|
|`0-9`|跳转到对应编号的窗口(大窗口)|
|`n`|跳转到当前会话的下一个窗口|
|`w`|进入一个目录界面，可以间接选取目标窗口|
|`q`|显示子窗口编号，之后按下对应数字即可跳转到对应子窗口|

### (7) 复制粘贴

|按键|作用|
|---|---|
|`[`|进入复制模式|
|`]`|粘贴最近复制的文本|

### (8) 调整子窗口大小

|按键|作用|
|---|---|
|`C-方向键`|以一个单位的步长调整子窗口大小|
|`M-方向键`|以五个单位的步长调整子窗口大小|
|`M-[1-5]`|将子窗口调整为默认布局，分别为：水平均分、垂直均分、主水平布局、主垂直布局和平铺布局|
